{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/ethan/Sites/wpx/wesbos-hooks-now/frontend/components/Pagination.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  query PAGINATION_QUERY {\\n    itemsConnection {\\n      aggregate {\\n        count\\n      }\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport gql from 'graphql-tag';\nimport Head from 'next/head';\nimport Link from 'next/link';\nimport { Query } from 'react-apollo';\nimport { perPage } from '../config';\nimport PaginationStyles from './styles/PaginationStyles';\nvar PAGINATION_QUERY = gql(_templateObject());\n\nvar Pagination = function Pagination(props) {\n  return __jsx(Query, {\n    query: PAGINATION_QUERY,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }, function (_ref) {\n    var error = _ref.error,\n        loading = _ref.loading,\n        data = _ref.data;\n    if (loading) return __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    }, \"Loading...\");\n    var itemsCount = data.itemsConnection.aggregate.count;\n    var totalPages = Math.ceil(itemsCount / perPage);\n    var currentPage = props.page;\n    return __jsx(PaginationStyles, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, __jsx(Head, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, __jsx(\"title\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, \"Sick Fits + - Page \", props.page, \" of \", totalPages, ' ')), __jsx(Link, {\n      prefetch: true,\n      href: {\n        pathname: 'items',\n        query: {\n          page: currentPage - 1\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, __jsx(\"a\", {\n      className: \"prev\",\n      \"aria-disabled\": currentPage <= 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"Prev\")), __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, currentPage || 1, \" of \", totalPages), __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, itemsCount, \" items total\"), __jsx(Link, {\n      prefetch: true,\n      href: {\n        pathname: 'items',\n        query: {\n          page: currentPage + 1\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, __jsx(\"a\", {\n      className: \"next\",\n      \"aria-disabled\": currentPage >= totalPages,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Next\")));\n  });\n};\n\nexport default Pagination;","map":{"version":3,"sources":["/Users/ethan/Sites/wpx/wesbos-hooks-now/frontend/components/Pagination.js"],"names":["gql","Head","Link","Query","perPage","PaginationStyles","PAGINATION_QUERY","Pagination","props","error","loading","data","itemsCount","itemsConnection","aggregate","count","totalPages","Math","ceil","currentPage","page","pathname","query"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAOA,GAAP,MAAgB,aAAhB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,KAAT,QAAsB,cAAtB;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,OAAOC,gBAAP,MAA6B,2BAA7B;AAEA,IAAMC,gBAAgB,GAAGN,GAAH,mBAAtB;;AAUA,IAAMO,UAAU,GAAG,SAAbA,UAAa,CAAAC,KAAK;AAAA,SACtB,MAAC,KAAD;AAAO,IAAA,KAAK,EAAEF,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,gBAA8B;AAAA,QAA3BG,KAA2B,QAA3BA,KAA2B;AAAA,QAApBC,OAAoB,QAApBA,OAAoB;AAAA,QAAXC,IAAW,QAAXA,IAAW;AAC7B,QAAID,OAAJ,EAAa,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAP;AAEb,QAAME,UAAU,GAAGD,IAAI,CAACE,eAAL,CAAqBC,SAArB,CAA+BC,KAAlD;AAEA,QAAMC,UAAU,GAAGC,IAAI,CAACC,IAAL,CAAUN,UAAU,GAAGR,OAAvB,CAAnB;AAEA,QAAMe,WAAW,GAAGX,KAAK,CAACY,IAA1B;AAEA,WACE,MAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BACsBZ,KAAK,CAACY,IAD5B,UACsCJ,UADtC,EACkD,GADlD,CADF,CADF,EAME,MAAC,IAAD;AACE,MAAA,QAAQ,MADV;AAEE,MAAA,IAAI,EAAE;AACJK,QAAAA,QAAQ,EAAE,OADN;AAEJC,QAAAA,KAAK,EAAE;AAAEF,UAAAA,IAAI,EAAED,WAAW,GAAG;AAAtB;AAFH,OAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOE;AAAG,MAAA,SAAS,EAAC,MAAb;AAAoB,uBAAeA,WAAW,IAAI,CAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPF,CANF,EAkBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGA,WAAW,IAAI,CADlB,UACyBH,UADzB,CAlBF,EAsBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIJ,UAAJ,iBAtBF,EAwBE,MAAC,IAAD;AACE,MAAA,QAAQ,MADV;AAEE,MAAA,IAAI,EAAE;AACJS,QAAAA,QAAQ,EAAE,OADN;AAEJC,QAAAA,KAAK,EAAE;AAAEF,UAAAA,IAAI,EAAED,WAAW,GAAG;AAAtB;AAFH,OAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOE;AAAG,MAAA,SAAS,EAAC,MAAb;AAAoB,uBAAeA,WAAW,IAAIH,UAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPF,CAxBF,CADF;AAsCD,GAhDH,CADsB;AAAA,CAAxB;;AAqDA,eAAeT,UAAf","sourcesContent":["import gql from 'graphql-tag';\nimport Head from 'next/head';\nimport Link from 'next/link';\nimport { Query } from 'react-apollo';\nimport { perPage } from '../config';\nimport PaginationStyles from './styles/PaginationStyles';\n\nconst PAGINATION_QUERY = gql`\n  query PAGINATION_QUERY {\n    itemsConnection {\n      aggregate {\n        count\n      }\n    }\n  }\n`;\n\nconst Pagination = props => (\n  <Query query={PAGINATION_QUERY}>\n    {({ error, loading, data }) => {\n      if (loading) return <p>Loading...</p>;\n\n      const itemsCount = data.itemsConnection.aggregate.count;\n\n      const totalPages = Math.ceil(itemsCount / perPage);\n\n      const currentPage = props.page;\n\n      return (\n        <PaginationStyles>\n          <Head>\n            <title>\n              Sick Fits + - Page {props.page} of {totalPages}{' '}\n            </title>\n          </Head>\n          <Link\n            prefetch\n            href={{\n              pathname: 'items',\n              query: { page: currentPage - 1 },\n            }}\n          >\n            <a className=\"prev\" aria-disabled={currentPage <= 1}>\n              Prev\n            </a>\n          </Link>\n\n          <p>\n            {currentPage || 1} of {totalPages}\n          </p>\n\n          <p>{itemsCount} items total</p>\n\n          <Link\n            prefetch\n            href={{\n              pathname: 'items',\n              query: { page: currentPage + 1 },\n            }}\n          >\n            <a className=\"next\" aria-disabled={currentPage >= totalPages}>\n              Next\n            </a>\n          </Link>\n        </PaginationStyles>\n      );\n    }}\n  </Query>\n);\n\nexport default Pagination;\n"]},"metadata":{},"sourceType":"module"}