{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/ethan/Sites/wpx/wesbos-hooks/frontend/components/SignIn.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { Mutation } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport Form from \"./styles/Form\";\nimport Error from \"./ErrorMessage\";\nimport { useState } from \"react\";\nimport { CURRENT_USER_QUERY } from './User';\nconst SIGNIN_MUTATION = gql`\n  mutation SIGNIN_MUTATION($email: String!, $password: String!) {\n    signin(email: $email, password: $password) {\n      email\n      password\n    }\n  }\n`;\n\nconst SignIn = props => {\n  const {\n    0: state,\n    1: setState\n  } = useState({\n    email: \"\",\n    password: \"\"\n  });\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setState(_objectSpread({}, state, {\n      [name]: value\n    }));\n  };\n\n  return __jsx(Mutation, {\n    mutation: SIGNIN_MUTATION,\n    variables: state,\n    refetchQueries: [{\n      query: CURRENT_USER_QUERY\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, (signin, {\n    error,\n    loading\n  }) => {\n    if (error) return __jsx(Error, {\n      error: error,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    });\n    return __jsx(Form, {\n      method: \"post\",\n      onSubmit: async e => {\n        e.preventDefault();\n        await signin();\n        await setState({\n          email: \"\",\n          password: \"\"\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, __jsx(\"fieldset\", {\n      method: \"post\",\n      disabled: loading,\n      \"aria-busy\": loading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, __jsx(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"Sign In to your Account\"), __jsx(\"label\", {\n      htmlFor: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \"Email\", __jsx(\"input\", {\n      type: \"email\",\n      name: \"email\",\n      placeholder: \"email\",\n      autoComplete: \"off\",\n      value: state.email,\n      onChange: e => handleChange(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    })), __jsx(\"label\", {\n      htmlFor: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Password\", __jsx(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"password\",\n      autoComplete: \"off\",\n      value: state.password,\n      onChange: e => handleChange(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    })), __jsx(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Sign in!\")));\n  });\n};\n\nexport default SignIn;","map":{"version":3,"sources":["/Users/ethan/Sites/wpx/wesbos-hooks/frontend/components/SignIn.js"],"names":["Mutation","gql","Form","Error","useState","CURRENT_USER_QUERY","SIGNIN_MUTATION","SignIn","props","state","setState","email","password","handleChange","e","name","value","target","query","signin","error","loading","preventDefault"],"mappings":"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","sourcesContent":["import { Mutation } from \"react-apollo\"\nimport gql from \"graphql-tag\"\nimport Form from \"./styles/Form\"\nimport Error from \"./ErrorMessage\"\nimport { useState } from \"react\"\nimport {CURRENT_USER_QUERY} from './User'\n\nconst SIGNIN_MUTATION = gql`\n  mutation SIGNIN_MUTATION($email: String!, $password: String!) {\n    signin(email: $email, password: $password) {\n      email\n      password\n    }\n  }\n`\n\nconst SignIn = props => {\n  const [state, setState] = useState({ email: \"\", password: \"\" })\n\n  const handleChange = e => {\n    const { name, value } = e.target\n    setState({\n      ...state,\n      [name]: value\n    })\n  }\n\n  return (\n    <Mutation \n        mutation={SIGNIN_MUTATION} \n        variables={state}\n        refetchQueries={[{query: CURRENT_USER_QUERY}]}\n        >\n      {(signin, { error, loading }) => {\n        if (error) return <Error error={error} />\n\n        return (\n          <Form\n            method=\"post\"\n            onSubmit={async e => {\n              e.preventDefault()\n              await signin()\n              await setState({ email: \"\", password: \"\" })\n            }}\n          >\n            <fieldset method=\"post\" disabled={loading} aria-busy={loading}>\n              <h2>Sign In to your Account</h2>\n              <label htmlFor=\"email\">\n                Email\n                <input\n                  type=\"email\"\n                  name=\"email\"\n                  placeholder=\"email\"\n                  autoComplete=\"off\"\n                  value={state.email}\n                  onChange={e => handleChange(e)}\n                />\n              </label>\n\n              <label htmlFor=\"password\">\n                Password\n                <input\n                  type=\"password\"\n                  name=\"password\"\n                  placeholder=\"password\"\n                  autoComplete=\"off\"\n                  value={state.password}\n                  onChange={e => handleChange(e)}\n                />\n              </label>\n              <button type=\"submit\">Sign in!</button>\n            </fieldset>\n          </Form>\n        )\n      }}\n    </Mutation>\n  )\n}\n\nexport default SignIn\n"]},"metadata":{},"sourceType":"module"}