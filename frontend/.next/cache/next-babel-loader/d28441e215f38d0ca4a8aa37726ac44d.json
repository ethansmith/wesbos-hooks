{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/ethan/Sites/wpx/wesbos-hooks-now/frontend/components/Signup.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  mutation SIGNUP_MUTATION(\\n    $email: String!\\n    $name: String!\\n    $password: String!\\n  ) {\\n      signup (email: $email, name: $name, password: $password) {\\n        id\\n        name\\n        email\\n        password\\n  }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport { Mutation } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport Form from \"./styles/Form\";\nimport Error from \"./ErrorMessage\";\nimport { useState } from \"react\";\nimport { CURRENT_USER_QUERY } from './User';\nvar SIGNUP_MUTATION = gql(_templateObject());\n\nvar Signup = function Signup(props) {\n  var _useState = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\"\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var handleChange = function handleChange(e) {\n    var _e$target = e.target,\n        name = _e$target.name,\n        value = _e$target.value;\n    setState(_objectSpread({}, state, _defineProperty({}, name, value)));\n  };\n\n  return __jsx(Mutation, {\n    mutation: SIGNUP_MUTATION,\n    variables: state,\n    refetchQueries: [{\n      query: CURRENT_USER_QUERY\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, function (signup, _ref) {\n    var error = _ref.error,\n        loading = _ref.loading;\n    if (error) return __jsx(Error, {\n      error: error,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    });\n    return __jsx(Form, {\n      method: \"post\",\n      onSubmit:\n      /*#__PURE__*/\n      function () {\n        var _ref2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee(e) {\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  e.preventDefault();\n                  _context.next = 3;\n                  return signup();\n\n                case 3:\n                  _context.next = 5;\n                  return setState({\n                    name: \"\",\n                    email: \"\",\n                    password: \"\"\n                  });\n\n                case 5:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function (_x) {\n          return _ref2.apply(this, arguments);\n        };\n      }(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, __jsx(\"fieldset\", {\n      method: \"post\",\n      disabled: loading,\n      \"aria-busy\": loading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, __jsx(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Sign Up for an Account\"), __jsx(\"label\", {\n      htmlFor: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"Email\", __jsx(\"input\", {\n      type: \"email\",\n      name: \"email\",\n      placeholder: \"email\",\n      autoComplete: \"off\",\n      value: state.email,\n      onChange: function onChange(e) {\n        return handleChange(e);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    })), __jsx(\"label\", {\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Name\", __jsx(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      placeholder: \"name\",\n      autoComplete: \"off\",\n      value: state.name,\n      onChange: function onChange(e) {\n        return handleChange(e);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    })), __jsx(\"label\", {\n      htmlFor: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"password\", __jsx(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"password\",\n      autoComplete: \"off\",\n      value: state.password,\n      onChange: function onChange(e) {\n        return handleChange(e);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    })), __jsx(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Sign up!\")));\n  });\n};\n\nexport default Signup;","map":{"version":3,"sources":["/Users/ethan/Sites/wpx/wesbos-hooks-now/frontend/components/Signup.js"],"names":["Mutation","gql","Form","Error","useState","CURRENT_USER_QUERY","SIGNUP_MUTATION","Signup","props","name","email","password","state","setState","handleChange","e","target","value","query","signup","error","loading","preventDefault"],"mappings":"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","sourcesContent":["import { Mutation } from \"react-apollo\"\nimport gql from \"graphql-tag\"\nimport Form from \"./styles/Form\"\nimport Error from \"./ErrorMessage\"\nimport { useState } from \"react\"\nimport { CURRENT_USER_QUERY } from './User'\n\nconst SIGNUP_MUTATION = gql`\n  mutation SIGNUP_MUTATION(\n    $email: String!\n    $name: String!\n    $password: String!\n  ) {\n      signup (email: $email, name: $name, password: $password) {\n        id\n        name\n        email\n        password\n  }\n  }\n`\n\n\n\nconst Signup = props => {\n  const [state, setState] = useState({name: \"\", email: \"\", password: \"\"})\n\n  const handleChange = e => {\n    const { name, value } = e.target\n    setState({\n      ...state,\n      [name]: value\n    })\n  }\n\n  return (\n    <Mutation\n      mutation={SIGNUP_MUTATION}\n      variables={state}\n      refetchQueries={[{query: CURRENT_USER_QUERY}]}\n    >\n      {(signup, { error, loading }) => {\n        if (error) return <Error error={error} />\n\n        return (\n          <Form\n            method=\"post\"\n            onSubmit={async e => {\n              e.preventDefault()\n              await signup()\n              await setState({name: \"\", email: \"\", password: \"\"})\n            }}\n          >\n            <fieldset method=\"post\" disabled={loading} aria-busy={loading}>\n              <h2>Sign Up for an Account</h2>\n              <label htmlFor=\"email\">\n                Email\n                <input\n                  type=\"email\"\n                  name=\"email\"\n                  placeholder=\"email\"\n                  autoComplete=\"off\"\n                  value={state.email}\n                  onChange={e => handleChange(e)}\n                />\n              </label>\n              <label htmlFor=\"name\">\n                Name\n                <input\n                  type=\"text\"\n                  name=\"name\"\n                  placeholder=\"name\"\n                  autoComplete=\"off\"\n                  value={state.name}\n                  onChange={e => handleChange(e)}\n                />\n              </label>\n              <label htmlFor=\"password\">\n                password\n                <input\n                  type=\"password\"\n                  name=\"password\"\n                  placeholder=\"password\"\n                  autoComplete=\"off\"\n                  value={state.password}\n                  onChange={e => handleChange(e)}\n                />\n              </label>\n              <button type=\"submit\">Sign up!</button>\n            </fieldset>\n          </Form>\n        )\n      }}\n    </Mutation>\n  )\n}\n\nexport default Signup\n"]},"metadata":{},"sourceType":"module"}