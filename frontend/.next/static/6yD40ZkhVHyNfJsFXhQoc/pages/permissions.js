(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{206:function(e,n,t){"use strict";var r=t(4).default.button.withConfig({displayName:"SickButton",componentId:"l04z44-0"})(["background:red;color:white;font-weight:500;border:0;border-radius:0;text-transform:uppercase;font-size:2rem;padding:0.8rem 1.5rem;transform:skew(-2deg);display:inline-block;transition:all 0.5s;&[disabled]{opacity:0.5;}"]);n.a=r},30:function(e,n,t){"use strict";var r=t(10),a=t.n(r),i=t(0),o=t.n(i),u=t(5),l=t(6),c=t.n(l),s=t(20),m=t(15),f=t(7);function d(e,n,t,r,a,i,o){try{var u=e[i](o),l=u.value}catch(e){return void t(e)}u.done?n(l):Promise.resolve(l).then(r,a)}function p(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function h(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(t.push(o.value),!n||t.length!==n);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function b(){var e=function(e,n){n||(n=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}(["\n  mutation SIGNIN_MUTATION($email: String!, $password: String!) {\n    signin(email: $email, password: $password) {\n      email\n      password\n    }\n  }\n"]);return b=function(){return e},e}var E=c()(b());n.a=function(e){var n=h(Object(i.useState)({email:"",password:""}),2),t=n[0],r=n[1],l=function(e){var n=e.target,a=n.name,i=n.value;r(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){p(e,n,t[n])})}return e}({},t,p({},a,i)))};return o.a.createElement(u.Mutation,{mutation:E,variables:t,refetchQueries:[{query:f.a}]},function(e,n){var i,u,c=n.error,f=n.loading;return c?o.a.createElement(m.a,{error:c}):o.a.createElement(s.a,{method:"post",onSubmit:(i=a.a.mark(function n(t){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),n.next=3,e();case 3:return n.next=5,r({email:"",password:""});case 5:case"end":return n.stop()}},n)}),u=function(){var e=this,n=arguments;return new Promise(function(t,r){var a=i.apply(e,n);function o(e){d(a,t,r,o,u,"next",e)}function u(e){d(a,t,r,o,u,"throw",e)}o(void 0)})},function(e){return u.apply(this,arguments)})},o.a.createElement("fieldset",{method:"post",disabled:f,"aria-busy":f},o.a.createElement("h2",null,"Sign In to your Account"),o.a.createElement("label",{htmlFor:"email"},"Email",o.a.createElement("input",{type:"email",name:"email",placeholder:"email",autoComplete:"off",value:t.email,onChange:function(e){return l(e)}})),o.a.createElement("label",{htmlFor:"password"},"Password",o.a.createElement("input",{type:"password",name:"password",placeholder:"password",autoComplete:"off",value:t.password,onChange:function(e){return l(e)}})),o.a.createElement("button",{type:"submit"},"Sign in!")))})}},39:function(e,n,t){"use strict";var r=t(0),a=t.n(r),i=t(5),o=t(7),u=t(30);n.a=function(e){return a.a.createElement(i.Query,{query:o.a},function(n){return n.error,n.loading,n.data.me?e.children:a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"Please Sign In before continuing! "),a.a.createElement(u.a,null))})}},500:function(e,n,t){__NEXT_REGISTER_PAGE("/permissions",function(){return e.exports=t(518),{page:e.exports.default}})},518:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(5),o=t(6),u=t.n(o),l=t(4).default.table.withConfig({displayName:"Table",componentId:"sc-1jvbtk5-0"})(["border-spacing:0;width:100%;border:1px solid ",";thead{font-size:10px;}td,th{padding:5px;border-bottom:1px solid ",";border-right:1px solid ",";position:relative;&:last-child{border-right:none;width:150px;button{width:100%;}}}tr{&:hover{background:",";}}label{padding:10px 5px;display:flex;justify-content:center;}"],function(e){return e.theme.offWhite},function(e){return e.theme.offWhite},function(e){return e.theme.offWhite},function(e){return e.theme.offWhite}),c=t(15),s=t(206);t(18);function m(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(t.push(o.value),!n||t.length!==n);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(){var e=h(["\n  mutation updatePermissions($permissions: [Permission!]!, $userId: ID!) {\n    updatePermissions(permissions: $permissions, userId: $userId) {\n      id\n      permissions\n      name\n      email\n    }\n  }\n"]);return d=function(){return e},e}function p(){var e=h(["\n  query ALL_USERS_QUERY {\n    users {\n      id\n      name\n      email\n      permissions\n    }\n  }\n"]);return p=function(){return e},e}function h(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var b=["ADMIN","USER","ITEMCREATE","ITEMUPDATE","ITEMDELETE","PERMISSIONUPDATE"],E=u()(p()),y=u()(d()),v=function(e){var n=f(Object(r.useState)({permissions:e.user.permissions}),2),t=n[0],o=n[1];return a.a.createElement(i.Mutation,{mutation:y,variables:{permissions:t.permissions,userId:e.user.id}},function(n,r){r.data;var i=r.loading;r.error;return a.a.createElement("tr",null,a.a.createElement("td",null,e.user.name),a.a.createElement("td",null,e.user.email),b.map(function(n){return a.a.createElement("td",{key:n},a.a.createElement("label",{htmlFor:"".concat(e.user.name,"-permission-").concat(n)},a.a.createElement("input",{id:"".concat(e.user.name,"-permission-").concat(n),checked:t.permissions.includes(n),type:"checkbox",value:n,onChange:function(e){var n=e.target,r=m(t.permissions);n.checked?r.push(n.value):r=r.filter(function(e){return e!==n.value}),o({permissions:r})}})))}),a.a.createElement("td",null,a.a.createElement(s.a,{type:"button",disabled:i,onClick:n},"Updat",i?"ing":"e")))})},w=function(e){return a.a.createElement(i.Query,{query:E},function(e){var n=e.error,t=(e.loading,e.data);return console.log(t),a.a.createElement("div",null,a.a.createElement(c.a,{error:n}),a.a.createElement("div",null,a.a.createElement("h2",null,"Manage Permissions"),a.a.createElement(l,null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Name"),a.a.createElement("th",null,"Email"),b.map(function(e){return a.a.createElement("th",{key:e},e)}),a.a.createElement("th",null,"ðŸ‘‡"))),a.a.createElement("tbody",null,t.users.map(function(e){return a.a.createElement(v,{key:e.id,user:e})})))))})},g=t(39);n.default=function(e){return a.a.createElement(g.a,null,a.a.createElement(w,null))}}},[[500,1,0]]]);